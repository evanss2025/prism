<!-- in game page -->

{% extends 'base.html' %}
{% block content %}
<style>
    .leaderboard-box {
        position: fixed;
        top: 40px;
        right: 40px;
        width: 260px;
        background: rgba(30,30,30,0.97);
        border-radius: 12px;
        box-shadow: 0 2px 16px rgba(0,0,0,0.18);
        color: #fff;
        z-index: 10;
        padding: 18px 20px 16px 20px;
        font-family: 'Segoe UI', Arial, sans-serif;
        border: 2px solid #0074D9;
    }
    .leaderboard-title {
        font-size: 1.3em;
        font-weight: bold;
        margin-bottom: 10px;
        color: #ffdc00;
        letter-spacing: 1px;
        display: flex;
        align-items: center;
        gap: 8px;
    }
    .leaderboard-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }
    .leaderboard-list li {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 7px 0;
        border-bottom: 1px solid #333;
        font-size: 1.08em;
    }
    .leaderboard-list li:last-child {
        border-bottom: none;
    }
    .color-dot {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        margin-right: 10px;
        display: inline-block;
    }
    .dot-red { background: #ff0000; }
    .dot-blue { background: #0000ff; }
    .dot-green { background: #00ff00; }
    .victory {
        color: #00ff00;
        font-weight: bold;
        margin-top: 10px;
        font-size: 1.1em;
        text-align: center;
    }
    html, body {
        background: #222;
        min-height: 100vh;
        width: 100vw;
        height: 100vh;
        margin: 0;
        padding: 0;
        overflow: hidden;
        box-sizing: border-box;
    }
    #game-board {
        display: grid;
        grid-template-columns: repeat(30, 1fr);
        grid-template-rows: repeat(16, 1fr);
        gap: 1px;
        width: 100vw;
        height: 100vh;
        background: #222;
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        z-index: 0;
    }
    .cell {
        background: #333;
        aspect-ratio: 1 / 1;
        width: 100%;
        height: 100%;
        border-radius: 0;
        box-shadow: none;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1em;
        font-weight: bold;
        cursor: pointer;
        transition: background 0.2s, color 0.2s, transform 0.1s;
        user-select: none;
        overflow: hidden;
    }
    .cell.claimed {
        color: #fff;
        background: #0074D9;
        transform: scale(1.04);
    }
    .capture-screen {
        position: absolute;
        bottom: 5px;
        left: 10px;
        background-color: white;
        border-radius: 10px;
        padding: 20px;
    }
    
</style>
<div id="game-board"></div>
<div class="leaderboard-box" id="leaderboard-box">
    <div class="leaderboard-title">üèÜ Leaderboard</div>
    <ul class="leaderboard-list" id="leaderboard-list">
        <!-- JS will populate -->
    </ul>
    <div class="victory" id="victory-message" style="display:none;"></div>
</div>
<div class="capture-screen">
    <h3>Claim Territory</h3>
    <video id="video" width="300" height="200" autoplay style="border-radius: 10px;"></video>
    <canvas id="canvas" width="300" height="200" style="display: none;"></canvas>
    
    <div class="camera-controls">
        <button id="start-camera">Start Camera</button>
        <button id="capture-photo" disabled>Capture & Claim!</button>
    </div>
    
    <div id="result-message"></div>
</div>
<script src="/static/js/game.js"></script>
<script src="/static/js/capture.js"></script>
{% endblock %}
